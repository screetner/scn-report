\subsubsection{Asset Services}
\ifenglish
\else
บริการสินทรัพย์ (Asset Services) จัดการการดำเนินการที่เกี่ยวข้องกับทรัพย์สิน เช่น การดึงรายละเอียดทรัพย์สิน การนับจำนวนทรัพย์สินตามรหัสองค์กร และการสร้าง URL รูปภาพทรัพย์สิน บริการส่วนนี้จะทำงานร่วมกับฐานข้อมูลเพื่อดึงและจัดการข้อมูลทรัพย์สิน

ฟังก์ชันใน Asset Services ประกอบด้วย

\begin{itemize}
    \item \textbf{findAssetByIds(assetId: string): Promise<assetData>}: ดึงรายละเอียดทรัพย์สินตามรหัสทรัพย์สินจากฐานข้อมูล
    \item \textbf{findAssetsByOrgId(orgId: string): Promise<assetData[]>}: ดึงรายละเอียดทรัพย์สินทั้งหมดขององค์กรจากรหัสองค์กรที่มีอยู่ในฐานข้อมูล
    \item \textbf{deleteAssetById(assetId: string, orgId: string): Promise<void>}: ใช้สำหรับการลบข้อมูลรูปภาพในฐานข้อมูลและใน blob storage
    \item \textbf{countAssetsByOrgId(orgId: string): Promise<\{total: number\}[]>}: นับจำนวนทรัพย์สินทั้งหมดขององค์กรจากรหัสองค์กรที่มีอยู่ในฐานข้อมูล
    \item \textbf{generateSAS(dirName: string): Promise<string>}: สร้างลิงก์ลงชื่อลงเวลา (SAS) ที่ใช้ในการเข้าถึงรูปภาพทรัพย์สิน
    \item \textbf{generateAssetImageUrl(sas: string,
    assetData: assetData): assetData}: สร้าง URL รูปภาพทรัพย์สินจากข้อมูลทรัพย์สินและลิงก์ลงชื่อลงเวลา (SAS) ที่ใช้ในการเข้าถึงรูปภาพ
\end{itemize}

ข้อมูลใน assetData ถูกจัดเก็บในรูปแบบดังนี้:
\begin{lstlisting}
    {
        "assetId": string,
        "geoCoordinate": [number, number],
        "assetType": string,
        "imageUrl": string,
        "recordedUser": string,
        "recordedAt": Date,
    }
\end{lstlisting}
\fi